(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("core-js/modules/es6.regexp.match"),require("core-js/modules/es6.regexp.replace"),require("core-js/modules/es6.regexp.split"),require("core-js/modules/es6.function.name"),require("core-js/modules/es6.regexp.constructor"),require("core-js/modules/web.dom.iterable")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es6.regexp.match","core-js/modules/es6.regexp.replace","core-js/modules/es6.regexp.split","core-js/modules/es6.function.name","core-js/modules/es6.regexp.constructor","core-js/modules/web.dom.iterable"],b):(a=a||self,b(a.toolkit={}))})(this,function(a){"use strict";var p=Math.abs;function b(){var a=/ipad|iphone|ipod|ios/ig;return a.test(ua)?"ios":"android"}function c(a){window.location.href=a.path,e(a.download)}function d(a){var b=document.createElement("iframe");b.style.display="none",b.src=a.path,document.body.appendChild(b),e(a.download)}function e(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:2e3;window.setTimeout(function(){window.location.href=a},b)}function f(){document.body.appendChild(g("<div class=\"wakeAppByBrowser\" style=\"z-index:9999;width:100%;height:100%;background:rgba(0,0,0,0.5) url(https://yun.duiba.com.cn/h5/millionaire-custom/top-180206/assets/iosgo.png) no-repeat right top;background-size:contain;top: 0;position:fixed;\"></div>")[0])}function g(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes}function h(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function i(a){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i(a)}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:200;if("object"===i(a)){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]/b);return c}return a/b}function o(){return function(){}}var q=function(){return"MicroMessenger"===ua.match(/MicroMessenger/i)?"weixin":"other"},r=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date,c=dateJson(b),d=c.year,e=c.month,f=c.day,g=c.hour,h=c.minute,i=c.second,j=c.weekDay,k=c.millisecond;return a=a.replace("YYYY",d).replace("MM",(e+"")[1]?e:"0".concat(e)).replace("DD",(f+"")[1]?f:"0".concat(f)).replace("hh",(g+"")[1]?g:"0".concat(g)).replace("mm",(h+"")[1]?h:"0".concat(h)).replace("ss",(i+"")[1]?i:"0".concat(i)).replace("SSS",k).replace("ww",j).replace("WW","\u5468"+["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"][j]),a},s=function a(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;j(this,a),this.key=b,this.left=c,this.right=d},t=function(){function a(){j(this,a),this.root=null}return l(a,[{key:"insert",value:function(a){var b=new s(a);null===this.root?this.root=b:function a(b,c){c.key<b.key?null===b.left?b.left=c:a(b.left,c):null===b.right?b.right=c:a(b.right,c)}(this.root,b)}},{key:"getMin",value:function(a){return function a(b){return b?b.left?a(b.left):b:null}(a||this.root)}},{key:"getMax",value:function(a){return function a(b){return b?b.right?a(b.right):b:null}(a||this.root)}},{key:"inOrder",value:function(){var a=[];return function b(c,d){null!==c&&(b(c.left,d),a.push(d(c.key)),b(c.right,d))}(this.root,function(a){return a}),a}},{key:"preOrder",value:function(){var a=[];return function b(c,d){null!==c&&(a.push(d(c.key)),b(c.left,d),b(c.right,d))}(this.root,function(a){return a}),a}},{key:"postOrder",value:function(){var a=[];return function b(c,d){null!==c&&(b(c.left,d),b(c.right,d),a.push(d(c.key)))}(this.root,function(a){return a}),a}},{key:"zOrder",value:function(){var a=this.root,b=[],c=[a],d=function a(){if(c.length){for(var d=c,e=0;e<c.length;e++)b.push(c[e].key);c=[];for(var f=0;f<d.length;f++)null!==d[f].left&&c.push(d[f].left),null!==d[f].right&&c.push(d[f].right);a()}};return d(),b}},{key:"getNodeHeight",value:function(a){var b=Math.max;if(null==a)return 0;var c=this.getNodeHeight(a.left),d=this.getNodeHeight(a.right);return 1+b(c,d)}},{key:"find",value:function(a){for(var b=this.root;;){if(a===b.key)return b;if(b=a<b.key?b.left:b.right,null===b)return null}}},{key:"remove",value:function(a){this.root=function a(b,c){if(null===b)return null;if(c===b.key){if(null===b.left&&null===b.right)return null;if(null===b.left)return b.right;if(null===b.right)return b.left}else return c<b.key?(b.left=a(b.left,c),b):(b.right=a(b.right,c),b)}(this.root,a)}}]),a}(),u=function(){function a(){j(this,a),m(this,"handlers",{})}return l(a,[{key:"on",value:function(a,b){return this.handlers[a]?this.handlers[a].push({once:!1,fn:b}):(this.handlers[a]=[],this.handlers[a].push({once:!1,fn:b})),this}},{key:"once",value:function(a,b){return this.handlers[a]?this.handlers[a].push({once:!1,fn:b}):(this.handlers[a]=[],this.handlers[a].push({once:!0,fn:b})),this}},{key:"emit",value:function(a,b){var c=this;return this.handlers[a]&&this.handlers[a].forEach(function(d){d.fn(b),d.once&&c.off(a,d.fn)}),this}},{key:"off",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.handlers[a]&&(b?this.handlers[a].splice(this.handlers[a].indexOf(b),1):delete this.handlers[a])}}]),a}();a.wakeApp=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{ios:{path:"",download:""},android:{path:"",download:""}},e=a.ios,g=a.android;return"weixin"===q()?(f(),!1):("ios"===b()&&e?c(e):g&&d(g),!0)},a.storage={set:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,d={data:b,expireTime:r("YYYY-MM-DD",new Date(new Date().getTime()+1e3*(3600*(24*c))))};this._set(a,d)},get:function(a){var b=r("YYYY-MM-DD"),c=this._get(a),d=null;return null!==c&&c.expireTime>=b&&(d=c.data),d},remove:function(a){this._remove(a)},getExpireTime:function(a){var b=this._get(a),c=null;return null!==b&&(c=b.expireTime),c},update:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,d=this.getExpireTime(a);if(null!==d){var e={data:b,expireTime:r("YYYY-MM-DD",new Date(new Date(d).getTime()+1e3*(3600*(24*c))))};this._set(a,e)}},_set:function(a,b){try{window.localStorage.setItem(a,JSON.stringify(b))}catch(a){}},_get:function(a){var b=null;try{b=JSON.parse(window.localStorage.getItem(a))}catch(a){}return b},_remove:function(a){try{window.localStorage.removeItem(a)}catch(a){}}},a.cookie={set:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,d=new Date;d.setHours(23,59,59,59);var e=d.getTime()+1e3*(60*(60*(24*c))),f=new Date(e);this._set(a,{data:b,expireTime:f})},get:function(a){var b=this._get(a),c=null;return null!==b&&(c=b.data),c},remove:function(a){if(document.cookie.length){var b=new Date;b.setTime(b.getTime()-86400000),document.cookie=a+"=;expires="+b}},getExpireTime:function(a){var b=this._get(a),c=null;return null!==b&&(c=b.expireTime),c},update:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,d=this.getExpireTime(a);if(null!==d){var e=new Date(d).getTime()+1e3*(60*(60*(24*c))),f={data:b,expireTime:new Date(e)};this._set(a,f)}},_set:function(a,b){document.cookie=a+"="+JSON.stringify(b)+";expires="+b.expireTime},_get:function(a){var b=null;if(document.cookie.length)for(var c=document.cookie.split(";"),d=0;d<c.length;d++){var e=a.length+1,f=c[d].replace(/(^\s*)|(\s*$)/g,"");if(f.substring(0,e)===a+"="){b=JSON.parse(f.substring(e));break}}return b}},a.date2json=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds(),h=a.getDay(),i=a.getMilliseconds();return{year:b,month:c,day:d,hour:e,minute:f,second:g,weekDay:h,millisecond:i}},a.dateFormat=r,a.getMatrix=function(a){var b=null,c=window.getComputedStyle(a).transform,d=c&&c.match(/^matrix[3]?[d]?\((.+)\)$/);return d&&(b=d[1].split(", ")),b},a.jsonp=function(a){var b=a.callback,c=a.url,d=a.data,e=a.success,f=a.error,g=a.time,i=void 0===g?3e3:g,j=("jsonp_"+Math.random()).replace(".","");d[b]=j;var k=h(d),l=document.getElementsByTagName("head")[0],m=document.createElement("script");l.appendChild(m),window[j]=function(a){l.removeChild(m),clearTimeout(m.timer),window[j]=null,e&&e(a)},m.src=c+"?"+k,m.timer=setTimeout(function(){window[j]=null,l.removeChild(m),f&&f({message:"\u8D85\u65F6"})},i)},a.px2rem=n,a.hitTestCircle=function(a,b){var c=Math.sqrt,d=Math.pow,e=!1,f=p(a.x-b.x),g=p(a.y-b.y),h=c(d(f,2)+d(g,2));return h<a.r+b.r&&(e=!0),e},a.hitTestContain=function(a,b){var c;return a.x<b.x&&(a.x=b.x,c="left"),a.y<b.y&&(a.y=b.y,c="top"),a.x+a.width>b.width&&(a.x=b.width-a.width,c="right"),a.y+a.height>b.height&&(a.y=b.height-a.height,c="bottom"),c},a.hitTestRectangle=function(a,b){var c,d,e,f,g;return c=!1,a.centerX=a.x+a.width/2,a.centerY=a.y+a.height/2,b.centerX=b.x+b.width/2,b.centerY=b.y+b.height/2,a.halfWidth=a.width/2,a.halfHeight=a.height/2,b.halfWidth=b.width/2,b.halfHeight=b.height/2,f=a.centerX-b.centerX,g=a.centerY-b.centerY,d=a.halfWidth+b.halfWidth,e=a.halfHeight+b.halfHeight,c=!!(p(f)<d)&&!!(p(g)<e),c},a.getDeviceType=function(){var a,b=navigator.userAgent.toLocaleLowerCase(),c=navigator.platform.toLocaleLowerCase();if(c.match(/mac/g))a="Mac";else if(c.match(/win/g))a="Win";else if(b.match(/android/g)){var d=b.match(/android (.*?);/);d=d?d[1]:0;var e=b.match(/chrome\/(.*?) mobile/);e=e?e[1]:0,a=5<=parseFloat(d)?38<=parseFloat(e)?navigator.getBattery&&navigator.vibrate&&navigator.hardwareConcurrency?"Android":"AndroidSimulator":"Chrome37.x(ignore)":"Android4.x(ignore)"}else a=c.match(/iphone/g)?"iPhone":c.match(/ipad/g)?"iPad":"other";return a},a.getBroEnv=function(){for(var a=navigator.userAgent.toLocaleLowerCase(),b=[{rgx:/qq/g,val:2},{rgx:/micromessenger/g,val:1},{rgx:/alipay/g,val:3}],c=4,d=0;d<b.length;d++)a.match(b[d].rgx)&&(c=b[d].val);return c},a.getMobileType=b,a.getNetwork=function(){var a=null,b=window.navigator.userAgent,c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!/MicroMessenger/.test(b))c&&(a=c.type);else if(/NetType/.test(b)){var d=b.match(/NetType\/(\S*)/);a=d[1]}else document.addEventListener("WeixinJSBridgeReady",function(){window.WeixinJSBridge.invoke("getNetworkType",{},function(b){a=b.err_msg})});return isNaN(a)||(a=["bluetooth","cellular","ethernet","mixed","none","other","unknown","wifi","wimax"][parseInt(a)]),a},a.getUrlParameter=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location.href,c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(b);return null===d?"":d[1]},a.BinaryTree=t,a.EventEmiter=u,a.CubicBezier=function(a){function b(){o(a[0].x,a[1].x,a[2].x,a[3].x)}function c(){o(a[0].y,a[1].y,a[2].y,a[3].y)}return{get:function(a){return{x:b(a),y:c(a)}}}},Object.defineProperty(a,"__esModule",{value:!0})});
